<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>bumps.dream.matlab module &#8212; Bumps 0.9.1 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="_static/nature.css?v=601dbdee" />
    <link rel="stylesheet" type="text/css" href="_static/plot_directive.css" />
    <script src="_static/documentation_options.js?v=9dc39874"></script>
    <script src="_static/doctools.js?v=888ff710"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Bumps 0.9.1 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">bumps.dream.matlab module</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="module-bumps.dream.matlab">
<span id="bumps-dream-matlab-module"></span><h1>bumps.dream.matlab module<a class="headerlink" href="#module-bumps.dream.matlab" title="Link to this heading">¶</a></h1>
<p>Interface compatible with matlab dream.</p>
<section id="usage">
<h2>Usage<a class="headerlink" href="#usage" title="Link to this heading">¶</a></h2>
<p>This interface is identical to dream in matlab:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">Sequences</span><span class="p">,</span> <span class="n">Reduced_Seq</span><span class="p">,</span> <span class="n">X</span><span class="p">,</span> <span class="n">output</span><span class="p">,</span> <span class="n">hist_logp</span><span class="p">]</span> <span class="o">=</span>       <span class="n">dream</span><span class="p">(</span><span class="n">MCMCPar</span><span class="p">,</span> <span class="n">ParRange</span><span class="p">,</span> <span class="n">Measurement</span><span class="p">,</span> <span class="n">ModelName</span><span class="p">,</span> <span class="n">Extra</span><span class="p">,</span> <span class="n">option</span><span class="p">)</span>
</pre></div>
</div>
<p>With care, you will be able to use the same model definition file
on both platforms, with only minor edits required to switch between them.
Clearly, you won’t be able to use if statements and loops since the
syntax for python and matlab are incompatible.  Similarly, you will
have to be careful about indentation and line breaks.  And create your
model without comments.</p>
<p>Python requires that structures be defined before you assign values to
their fields, so you will also need the following lines.  Note however,
that they are safe to use in matlab as well:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">MCMCPar</span> <span class="o">=</span> <span class="n">struct</span><span class="p">()</span>
<span class="n">Extra</span> <span class="o">=</span> <span class="n">struct</span><span class="p">()</span>
<span class="n">Measurement</span> <span class="o">=</span> <span class="n">struct</span><span class="p">()</span>
<span class="n">ParRange</span> <span class="o">=</span> <span class="n">struct</span><span class="p">()</span>
</pre></div>
</div>
<p>Another challenge is <em>ModelName</em>.  In matlab this is the name of the
m-file that contains the model definition.  Following that convention,
we will try to using “from &lt;ModelName&gt; import &lt;ModelName&gt;”, and if this
fails, assume that <em>ModelName</em> is actually the function itself.  For
this to work you will need to translate the function in ModelName.m
to the equivalent function in ModelName.py.</p>
<p><em>option</em> is the same option number as before</p>
</section>
<section id="ipython-usage">
<h2>IPython usage<a class="headerlink" href="#ipython-usage" title="Link to this heading">¶</a></h2>
<p>Within ipython you can interact with your models something like
you do in matlab.  For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ ipython -pylab
In [1]: from dream.matlab import *
In [2]: from dream import *
In [3]: %run example.m
</pre></div>
</div>
<p>You can now use various dream visualization tools or use the matlab-like
plotting functions from pylab:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">In</span> <span class="p">[</span><span class="mi">4</span><span class="p">]:</span> <span class="n">out</span><span class="o">.</span><span class="n">state</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s1">&#39;modeloutput&#39;</span><span class="p">)</span>
<span class="n">In</span> <span class="p">[</span><span class="mi">5</span><span class="p">]:</span> <span class="n">out</span><span class="o">.</span><span class="n">state</span><span class="o">.</span><span class="n">plot_state</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="command-line-usage">
<h2>Command line usage<a class="headerlink" href="#command-line-usage" title="Link to this heading">¶</a></h2>
<p>You can also run a suitable m-file example from the command line.  This will
place you at an ipython command line with all the variables from your
m-file available.  For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="o">-</span><span class="n">m</span> <span class="n">dream</span><span class="o">.</span><span class="n">matlab</span> <span class="n">example</span><span class="o">.</span><span class="n">m</span>
<span class="n">In</span> <span class="p">[</span><span class="mi">1</span><span class="p">]:</span> <span class="n">out</span><span class="o">.</span><span class="n">state</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s1">&#39;modeloutput&#39;</span><span class="p">)</span>
<span class="n">In</span> <span class="p">[</span><span class="mi">2</span><span class="p">]:</span> <span class="n">out</span><span class="o">.</span><span class="n">state</span><span class="o">.</span><span class="n">plot_state</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="script-usage">
<h2>Script usage<a class="headerlink" href="#script-usage" title="Link to this heading">¶</a></h2>
<p>You can create a driver script which calls the m-file example and
uses pylab commands to plot the results.  For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">--</span> <span class="n">example</span><span class="o">.</span><span class="n">py</span> <span class="o">--</span>
<span class="c1">#!/usr/bin/env python</span>
<span class="kn">from</span> <span class="nn">pylab</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">dream.matlab</span> <span class="kn">import</span> <span class="o">*</span>
<span class="n">execfile</span><span class="p">(</span><span class="s1">&#39;example.m&#39;</span><span class="p">)</span>

<span class="kn">from</span> <span class="nn">dream</span> <span class="kn">import</span> <span class="o">*</span>
<span class="n">out</span><span class="o">.</span><span class="n">state</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s1">&#39;modeloutput&#39;</span><span class="p">)</span>
<span class="n">plot_state</span><span class="p">(</span><span class="n">out</span><span class="o">.</span><span class="n">state</span><span class="p">)</span>
</pre></div>
</div>
<p>This can be run from the command prompt:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ python example.py
</pre></div>
</div>
</section>
<dl class="py function">
<dt class="sig sig-object py" id="bumps.dream.matlab.dream">
<span class="sig-prename descclassname"><span class="pre">bumps.dream.matlab.</span></span><span class="sig-name descname"><span class="pre">dream</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">MCMCPar</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ParRange</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Measurement</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ModelName</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Extra</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">option</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bumps/dream/matlab.html#dream"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bumps.dream.matlab.dream" title="Link to this definition">¶</a></dt>
<dd><p>Emulate the matlab dream call.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bumps.dream.matlab.setup">
<span class="sig-prename descclassname"><span class="pre">bumps.dream.matlab.</span></span><span class="sig-name descname"><span class="pre">setup</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">MCMCPar</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ParRange</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Measurement</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ModelName</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Extra</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">option</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bumps/dream/matlab.html#setup"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bumps.dream.matlab.setup" title="Link to this definition">¶</a></dt>
<dd><p>Convert matlab dream models to a python Dream object.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="bumps.dream.matlab.struct">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">bumps.dream.matlab.</span></span><span class="sig-name descname"><span class="pre">struct</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">pairs</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bumps/dream/matlab.html#struct"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bumps.dream.matlab.struct" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Matlab compatible structure creation.</p>
</dd></dl>

</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/logo.png" alt="Logo"/>
            </a></p>
  <div>
    <h3><a href="index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">bumps.dream.matlab module</a><ul>
<li><a class="reference internal" href="#usage">Usage</a></li>
<li><a class="reference internal" href="#ipython-usage">IPython usage</a></li>
<li><a class="reference internal" href="#command-line-usage">Command line usage</a></li>
<li><a class="reference internal" href="#script-usage">Script usage</a></li>
<li><a class="reference internal" href="#bumps.dream.matlab.dream"><code class="docutils literal notranslate"><span class="pre">dream()</span></code></a></li>
<li><a class="reference internal" href="#bumps.dream.matlab.setup"><code class="docutils literal notranslate"><span class="pre">setup()</span></code></a></li>
<li><a class="reference internal" href="#bumps.dream.matlab.struct"><code class="docutils literal notranslate"><span class="pre">struct</span></code></a></li>
</ul>
</li>
</ul>

  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/bumps.dream.matlab.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Bumps 0.9.1 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">bumps.dream.matlab module</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.2.6.
    </div>
  </body>
</html>